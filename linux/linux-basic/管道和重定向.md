# 管道和重定向
## 文件描述符/文件句柄  #fd 

### 简介

> file descriptors, 进程使用文件描述符来管理打开的文件.
> 当一个进程打开一个文件时，内核会为该文件分配一个唯一的 FD，可以用来对文件进行读写。
> 每个进程都有自己的 FD 表，存储着该进程打开的所有文件的 FD

- 0, 键盘只读
- 1/2, 终端
- 3+, 文件, 可读写

### 查看fd

```bash
ls -l /proc/<pid>/fd

[root@host-172-129-78-173 ~]# ll /proc/2175/fd
total 0
lrwx------ 1 root root 64 Jan  6 08:59 0 -> /dev/pts/3
lrwx------ 1 root root 64 Jan  6 08:59 1 -> /dev/pts/3
lrwx------ 1 root root 64 Jan  6 08:59 2 -> /dev/pts/3
lrwx------ 1 root root 64 Jan  6 08:59 3 -> /root/.test.swp
```

## 重定向

### 重定向标准输出（stdout）
```bash
data > time.txt # 将 ls 命令的输出写入 filelist.txt
```
### 重定向标准输入（stdin）
```bash
sort < file.txt # 将 file.txt 的内容作为 sort 命令的输入
sort 0< file.txt # 0< 等价于 <
```
### 重定向标准错误（stderr）
```bash
ls non_existing_directory 2> error.txt
# 将错误信息写入 error.txt
```
### 同时重定向标准输出和标准错误
```bash
# &> 或 > file 2>&1
command &> output.txt
command > output.txt 2> error.txt # 保存到不同文件
```

## 管道

